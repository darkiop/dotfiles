{
  "commands": [
    {
      "name": "dot help",
      "desc": "CLI overview of dotfiles commands and keybindings",
      "details": "Shows available commands and bindings based on enabled feature flags. Uses fzf if available; use --plain to force text output.",
      "run": "dot help",
      "requires": []
    },
    {
      "name": "dot doctor",
      "desc": "Diagnostics overview",
      "details": "Checks git repo state, submodules, expected symlinks, required tools, and MOTD timer status (systemd).",
      "run": "dot doctor",
      "requires": []
    },
    {
      "name": "dot help --plain",
      "desc": "CLI overview (text output)",
      "details": "Forces non-fzf output even if fzf is installed.",
      "run": "dot help --plain",
      "requires": []
    },
    {
      "name": "dot install",
      "desc": "Run dotfiles installer",
      "details": "Runs ~/dotfiles/install.sh.\nEnter in dot help runs: dot install",
      "run": "dot install",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP"
      ]
    },
    {
      "name": "dot update",
      "desc": "Update repo + submodules",
      "details": "Runs:\n- git pull --ff-only\n- git submodule update --init --recursive --depth 1\nEnter in dot help runs: dot update",
      "run": "dot update",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP"
      ]
    },
    {
      "name": "dot i",
      "desc": "Alias for dot install",
      "details": "Alias for dot install.\nEnter in dot help runs: dot i",
      "run": "dot i",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP"
      ]
    },
    {
      "name": "dot u",
      "desc": "Alias for dot update",
      "details": "Alias for dot update.\nEnter in dot help runs: dot u",
      "run": "dot u",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP"
      ]
    },
    {
      "name": "dot h",
      "desc": "Alias for dot help",
      "details": "Alias for dot help.\nEnter in dot help runs: dot h",
      "run": "dot h",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP"
      ]
    },
    {
      "name": "sshp",
      "desc": "SSH host picker (fzf)",
      "details": "Pick a host from ~/.ssh/config and connect via ssh.",
      "run": "sshp",
      "requires": [
        "DOTFILES_ENABLE_SSH_PICKER"
      ]
    },
    {
      "name": "gco",
      "desc": "git checkout picker",
      "details": "Pick a branch or tag and checkout.",
      "run": "gco",
      "requires": [
        "DOTFILES_ENABLE_GIT_FZF"
      ]
    },
    {
      "name": "gshow",
      "desc": "git show picker",
      "details": "Pick a commit and show it.",
      "run": "gshow",
      "requires": [
        "DOTFILES_ENABLE_GIT_FZF"
      ]
    },
    {
      "name": "gaddp",
      "desc": "git add picker",
      "details": "Pick modified files and add to index.",
      "run": "gaddp",
      "requires": [
        "DOTFILES_ENABLE_GIT_FZF"
      ]
    },
    {
      "name": "gstashp",
      "desc": "git stash picker",
      "details": "Pick a stash and run: show|apply|pop|drop (e.g. gstashp show).",
      "run": "gstashp",
      "requires": [
        "DOTFILES_ENABLE_GIT_FZF"
      ]
    },
    {
      "name": "gfixup",
      "desc": "git fixup picker",
      "details": "Pick a commit and create a fixup commit.",
      "run": "gfixup",
      "requires": [
        "DOTFILES_ENABLE_GIT_FZF"
      ]
    },
    {
      "name": "gcp",
      "desc": "git commit hash copy",
      "details": "Pick a commit hash and copy to clipboard.",
      "run": "gcp",
      "requires": [
        "DOTFILES_ENABLE_GIT_FZF"
      ]
    },
    {
      "name": "fh",
      "desc": "history picker",
      "details": "Pick a command from shell history via fzf.",
      "run": "fh",
      "requires": [
        "DOTFILES_ENABLE_FZF_EXTRAS"
      ]
    },
    {
      "name": "cdf",
      "desc": "directory picker",
      "details": "Pick a directory via fzf and cd into it.",
      "run": "cdf",
      "requires": [
        "DOTFILES_ENABLE_FZF_EXTRAS"
      ]
    },
    {
      "name": "ts",
      "desc": "tmux session picker",
      "details": "Pick a tmux session and switch client.",
      "run": "ts",
      "requires": [
        "DOTFILES_ENABLE_TMUX_FZF"
      ]
    },
    {
      "name": "tw",
      "desc": "tmux window picker",
      "details": "Pick a tmux window across sessions and focus it.",
      "run": "tw",
      "requires": [
        "DOTFILES_ENABLE_TMUX_FZF"
      ]
    },
    {
      "name": "tp",
      "desc": "tmux pane picker",
      "details": "Pick a tmux pane across sessions and focus it.",
      "run": "tp",
      "requires": [
        "DOTFILES_ENABLE_TMUX_FZF"
      ]
    },
    {
      "name": "sctl",
      "desc": "systemd service manager",
      "details": "Interactive systemd service manager with fzf. Pick a service and perform actions: start, stop, restart, reload, enable, disable, status, logs, follow.",
      "run": "sctl",
      "requires": [
        "DOTFILES_ENABLE_SYSTEMCTL_FZF"
      ]
    },
    {
      "name": "jctl",
      "desc": "journalctl picker",
      "details": "Pick a systemd unit and show logs; use 'jctl follow' to tail.",
      "run": "jctl",
      "requires": [
        "DOTFILES_ENABLE_JOURNALCTL_PICKER"
      ]
    },
    {
      "name": "jctl follow",
      "desc": "journalctl follow",
      "details": "Pick a systemd unit and follow logs (journalctl -f).",
      "run": "jctl follow",
      "requires": [
        "DOTFILES_ENABLE_JOURNALCTL_PICKER"
      ]
    },
    {
      "name": "dps",
      "desc": "docker container picker",
      "details": "Pick a container and show its docker ps line.",
      "run": "dps",
      "requires": [
        "DOTFILES_ENABLE_DOCKER_FZF"
      ]
    },
    {
      "name": "dexec",
      "desc": "docker exec picker",
      "details": "Pick a container and exec into it. Args are passed to the exec (e.g. dexec bash).",
      "run": "dexec",
      "requires": [
        "DOTFILES_ENABLE_DOCKER_FZF"
      ]
    },
    {
      "name": "dlogs",
      "desc": "docker logs picker",
      "details": "Pick a container and view logs; use 'dlogs follow' to tail.",
      "run": "dlogs",
      "requires": [
        "DOTFILES_ENABLE_DOCKER_FZF"
      ]
    }
  ],
  "bindings": [
    {
      "name": "Ctrl+H",
      "desc": "(dot help) show dot help menu",
      "details": "Opens dot help.\nEnter in dot help runs: dot help",
      "run": "dot help",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP",
        "DOTFILES_ENABLE_DOT_HELP_BINDING"
      ]
    },
    {
      "name": "Alt+R",
      "desc": "(dot reload) reload shell rc",
      "details": "Reloads your current shell rc file and clears the screen.\nBash: ~/.bashrc (fallback: ~/dotfiles/bashrc)\nZsh: ~/.zshrc (fallback: ~/dotfiles/zshrc)\nEnter in dot help runs: dot reload",
      "run": "dot reload",
      "requires": [
        "DOTFILES_ENABLE_DOT_HELP",
        "DOTFILES_ENABLE_RELOAD_BINDING"
      ]
    },
    {
      "name": "Ctrl+R",
      "desc": "(fh) fzf history",
      "details": "Replaces reverse-i-search when DOTFILES_ENABLE_FZF_HISTORY_BINDINGS is true.\nEnter in dot help runs: fh",
      "run": "fh",
      "requires": [
        "DOTFILES_ENABLE_FZF_HISTORY_BINDINGS"
      ]
    },
    {
      "name": "Ctrl+F",
      "desc": "(tw) tmux window picker inside tmux",
      "details": "Overrides forward-char in shells inside tmux.\nEnter in dot help runs: tw",
      "run": "tw",
      "requires": [
        "DOTFILES_ENABLE_TMUX_FZF"
      ]
    },
    {
      "name": "Ctrl+G",
      "desc": "Display the navi cheats",
      "details": "Opens navi menu.\nEnter in dot help runs: navi",
      "run": "navi",
      "requires": [
        "DOTFILES_ENABLE_NAVI"
      ]
    },
    {
      "name": "Alt+C",
      "desc": "(cdf) fzf directory picker",
      "details": "Jump to a directory selected via fzf.\nEnter in dot help runs: cdf",
      "run": "cdf",
      "requires": [
        "DOTFILES_ENABLE_FZF_CDF_BINDING"
      ]
    }
  ],
  "notes": [
    {
      "name": "Config",
      "desc": "~/dotfiles/config/local_dotfiles_settings",
      "details": "Per-host feature flags and overrides (gitignored).",
      "run": "",
      "requires": []
    },
    {
      "name": "Feature flags",
      "desc": "~/dotfiles/components/feature_flags",
      "details": "Defaults and flag helpers.",
      "run": "",
      "requires": []
    },
    {
      "name": "Prompt style",
      "desc": "DOTFILES_PROMPT_STYLE environment variable",
      "details": "Set prompt style in ~/dotfiles/config/dotfiles.config or ~/.bashrc/~/.zshrc:\n\nAvailable styles:\n- classic (default): Full info with ┌ and └─\n  Shows: time, user㉿host, IP, directory, permissions, git, sudo\n\n- compact: Minimal with ┌── and └─\n  Shows: user㉿host, directory, git, sudo\n\nUsage:\nexport DOTFILES_PROMPT_STYLE=\"compact\"\n\nThen reload shell with Alt+R or restart terminal.",
      "run": "",
      "requires": []
    },
    {
      "name": "MOTD Widgets",
      "desc": "~/dotfiles/motd/widgets/",
      "details": "Extensible widget system for MOTD.\n\nBuilt-in widgets:\n- docker: Container stats (running/stopped/total)\n\nCustom widgets:\nCreate host-specific widgets in ~/dotfiles/motd/widgets/<hostname>/\n\nWidget script format:\n#!/bin/bash\necho \"label:value\"\n\nMake executable: chmod +x widget.sh\n\nDisable widgets:\nDOTFILES_ENABLE_MOTD_WIDGETS=false in ~/dotfiles/config/local_dotfiles_settings",
      "run": "",
      "requires": []
    }
  ]
}
